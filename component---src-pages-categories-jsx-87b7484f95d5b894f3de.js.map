{"version":3,"file":"component---src-pages-categories-jsx-87b7484f95d5b894f3de.js","mappings":"8LA6CA,UAtCuBA,EAAGC,WACxB,MAAM,SAAEC,GAAaC,EAAAA,WAAaC,EAAAA,IAC3BC,EAASC,GAAcH,EAAAA,SAAW,IAEnCI,EAAcN,EAAKO,kBAAkBC,MAAMC,KAAI,EAAGC,UAAWC,KAAKC,MAAMF,EAAKG,OAAOC,cACpFC,EAAe,IAAIC,EAAAA,EAAKV,EAAa,CAAEW,KAAM,CAAC,gBAWpD,OATAf,EAAAA,WAAY,KACV,GAAiB,KAAbD,EAAiBI,EAAWC,OAC3B,CACH,MACMY,EADiBH,EAAaI,OAAOlB,GACFQ,KAAKW,GAAWA,EAAOC,OAChEhB,EAAWa,EACb,IACC,CAACjB,KAGFqB,EAAAA,EAAAA,MAACC,EAAAA,EAAS,CAAAC,SAAA,EACRC,EAAAA,EAAAA,KAAA,MAAAD,SACGpB,GACCA,EAAQK,KAAKW,IACXE,EAAAA,EAAAA,MAAA,MAAsBI,QAASA,KAAMC,EAAAA,EAAAA,UAAU,QAAOP,EAAOQ,QAAQJ,SAAA,EACnEC,EAAAA,EAAAA,KAAA,MAAAD,SAAKJ,EAAOS,SACZJ,EAAAA,EAAAA,KAAA,KAAAD,SAAIJ,EAAOU,gBAFJV,EAAOQ,UAMpBxB,GAA8B,IAAnBA,EAAQ2B,OAMjB,MALFT,EAAAA,EAAAA,MAACC,EAAAA,EAAU,CAAAC,SAAA,CAAC,oBAEVC,EAAAA,EAAAA,KAAA,SAAM,uBAIA,C","sources":["webpack://yellagoya-malog/./src/pages/categories.jsx"],"sourcesContent":["import * as r from \"react\";\r\nimport * as s from \"style/templates/Search.js\";\r\nimport { graphql, navigate } from \"gatsby\";\r\nimport Fuse from \"fuse.js\";\r\n\r\nimport { CategoryContext } from \"context/category.jsx\";\r\n\r\nconst CategoriesPage = ({ data }) => {\r\n  const { category } = r.useContext(CategoryContext);\r\n  const [results, setResults] = r.useState(\"\");\r\n\r\n  const fuseIndexes = data.allMarkdownRemark.edges.map(({ node }) => JSON.parse(node.fields.categories));\r\n  const fuseInstance = new Fuse(fuseIndexes, { keys: [\"categories\"] });\r\n\r\n  r.useEffect(() => {\r\n    if (category === \"\") setResults(fuseIndexes);\r\n    else {\r\n      const resultsRawData = fuseInstance.search(category);\r\n      const resultsParsedData = resultsRawData.map((result) => result.item);\r\n      setResults(resultsParsedData);\r\n    }\r\n  }, [category]);\r\n\r\n  return (\r\n    <s.Wrapper>\r\n      <ul>\r\n        {results &&\r\n          results.map((result) => (\r\n            <li key={result.slug} onClick={() => navigate(`/post${result.slug}`)}>\r\n              <h2>{result.title}</h2>\r\n              <p>{result.description}</p>\r\n            </li>\r\n          ))}\r\n      </ul>\r\n      {!results || results.length === 0 ? (\r\n        <s.Noresult>\r\n          검색 결과가 없습니다 ㅠㅜ..\r\n          <br />\r\n          다른 검색어를 입력해보세요.\r\n        </s.Noresult>\r\n      ) : null}\r\n    </s.Wrapper>\r\n  );\r\n};\r\n\r\nexport default CategoriesPage;\r\n\r\nexport const pageQuery = graphql`\r\n  {\r\n    allMarkdownRemark {\r\n      edges {\r\n        node {\r\n          frontmatter {\r\n            title\r\n          }\r\n          fields {\r\n            categories\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":["CategoriesPage","data","category","r","CategoryContext","results","setResults","fuseIndexes","allMarkdownRemark","edges","map","node","JSON","parse","fields","categories","fuseInstance","Fuse","keys","resultsParsedData","search","result","item","_jsxs","s","children","_jsx","onClick","navigate","slug","title","description","length"],"sourceRoot":""}