{"version":3,"file":"component---src-pages-search-jsx-03a9c9ac179da44fdb7c.js","mappings":"+MAEO,MAAMA,EAAUC,EAAAA,QAAOC,IAAGC,WAAA,CAAAC,YAAA,kBAAAC,YAAA,eAAVJ,CAAU,8JAsBpBK,EAAWL,EAAAA,QAAOM,KAAIJ,WAAA,CAAAC,YAAA,mBAAAC,YAAA,eAAXJ,CAAW,gH,cCEnC,MAvBqBO,EAAGC,cAEpBC,EAAAA,EAAAA,MAACC,EAAS,CAAAC,SAAA,EACRC,EAAAA,EAAAA,KAAA,MAAAD,SACGH,GACCA,EAAQK,KAAKC,IACXL,EAAAA,EAAAA,MAAA,MAAsBM,QAASA,KAAMC,EAAAA,EAAAA,UAAU,QAAOF,EAAOG,QAAQN,SAAA,EACnEC,EAAAA,EAAAA,KAAA,MAAAD,SAAKG,EAAOI,SACZN,EAAAA,EAAAA,KAAA,KAAAD,SAAIG,EAAOK,gBAFJL,EAAOG,UAMpBT,GAA8B,IAAnBA,EAAQY,OAMjB,MALFX,EAAAA,EAAAA,MAACC,EAAU,CAAAC,SAAA,CAAC,oBAEVC,EAAAA,EAAAA,KAAA,SAAM,wB,UCMhB,MAjBmBS,EAAGC,WACpB,MAAM,YAAEC,IAAgBC,EAAAA,EAAAA,YAAWC,EAAAA,IAC5BjB,EAASkB,IAAcC,EAAAA,EAAAA,UAAS,IAEjCC,EAAcN,EAAKO,kBAAkBC,MAAMjB,KAAI,EAAGkB,UAAWC,KAAKC,MAAMF,EAAKG,OAAOC,SACpFC,EAAe,IAAIC,EAAAA,EAAKT,EAAa,CAAEU,KAAM,CAAC,QAAS,UAAW,gBASxE,OAPAC,EAAAA,EAAAA,YAAU,KACR,MACMC,EADiBJ,EAAaK,OAAOlB,GACFV,KAAKC,GAAWA,EAAO4B,OAEhEhB,EAAWc,EAAkB,GAC5B,CAACjB,KAEGX,EAAAA,EAAAA,KAACL,EAAY,CAACC,QAASA,GAAW,C","sources":["webpack://yellagoya-malog/./src/style/templates/Search.js","webpack://yellagoya-malog/./src/components/content/malog/SearchResult.jsx","webpack://yellagoya-malog/./src/pages/search.jsx"],"sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const Wrapper = styled.div`\r\n  margin: 0 auto;\r\n  max-width: 960px;\r\n\r\n  color: white;\r\n  background-color: #1b1b1b;\r\n\r\n  li {\r\n    color: #fff;\r\n\r\n    margin: 20px;\r\n\r\n    cursor: pointer;\r\n\r\n    & > h2,\r\n    p {\r\n      margin-top: 3px;\r\n      margin-bottom: 3px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Noresult = styled.span`\r\n  position: fixed;\r\n\r\n  top: 30%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n\r\n  font-size: 2rem;\r\n  font-weight: 800;\r\n  opacity: 0.5;\r\n`;\r\n","import { navigate } from \"gatsby\";\r\n\r\nimport * as s from \"style/templates/Search.js\";\r\nconst SearchResult = ({ results }) => {\r\n  return (\r\n    <s.Wrapper>\r\n      <ul>\r\n        {results &&\r\n          results.map((result) => (\r\n            <li key={result.slug} onClick={() => navigate(`/post${result.slug}`)}>\r\n              <h2>{result.title}</h2>\r\n              <p>{result.description}</p>\r\n            </li>\r\n          ))}\r\n      </ul>\r\n      {!results || results.length === 0 ? (\r\n        <s.Noresult>\r\n          검색 결과가 없습니다 ㅠㅜ..\r\n          <br />\r\n          다른 검색어를 입력해보세요.\r\n        </s.Noresult>\r\n      ) : null}\r\n    </s.Wrapper>\r\n  );\r\n};\r\n\r\nexport default SearchResult;\r\n","import { useState, useEffect, useContext } from \"react\";\r\nimport { graphql } from \"gatsby\";\r\nimport Fuse from \"fuse.js\";\r\n\r\nimport SearchResult from \"components/content/malog/SearchResult\";\r\nimport { SearchContext } from \"context/search.jsx\";\r\n\r\nconst SearchPage = ({ data }) => {\r\n  const { searchQuery } = useContext(SearchContext);\r\n  const [results, setResults] = useState(\"\");\r\n\r\n  const fuseIndexes = data.allMarkdownRemark.edges.map(({ node }) => JSON.parse(node.fields.index));\r\n  const fuseInstance = new Fuse(fuseIndexes, { keys: [\"title\", \"content\", \"categories\"] });\r\n\r\n  useEffect(() => {\r\n    const resultsRawData = fuseInstance.search(searchQuery);\r\n    const resultsParsedData = resultsRawData.map((result) => result.item);\r\n\r\n    setResults(resultsParsedData);\r\n  }, [searchQuery]);\r\n\r\n  return <SearchResult results={results} />;\r\n};\r\n\r\nexport default SearchPage;\r\n\r\nexport const pageQuery = graphql`\r\n  {\r\n    allMarkdownRemark {\r\n      edges {\r\n        node {\r\n          frontmatter {\r\n            title\r\n          }\r\n          fields {\r\n            index\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":["Wrapper","styled","div","withConfig","displayName","componentId","Noresult","span","SearchResult","results","_jsxs","s","children","_jsx","map","result","onClick","navigate","slug","title","description","length","SearchPage","data","searchQuery","useContext","SearchContext","setResults","useState","fuseIndexes","allMarkdownRemark","edges","node","JSON","parse","fields","index","fuseInstance","Fuse","keys","useEffect","resultsParsedData","search","item"],"sourceRoot":""}