{"version":3,"file":"component---src-pages-search-jsx-5b61915d9097fdcb8844.js","mappings":"8LA2CA,UApCmBA,EAAGC,WACpB,MAAM,YAAEC,GAAgBC,EAAAA,WAAaC,EAAAA,IAC9BC,EAASC,GAAcH,EAAAA,SAAW,IAEnCI,EAAcN,EAAKO,kBAAkBC,MAAMC,KAAI,EAAGC,UAAWC,KAAKC,MAAMF,EAAKG,OAAOC,SACpFC,EAAe,IAAIC,EAAAA,EAAKV,EAAa,CAAEW,KAAM,CAAC,QAAS,UAAW,gBASxE,OAPAf,EAAAA,WAAY,KACV,MACMgB,EADiBH,EAAaI,OAAOlB,GACFQ,KAAKW,GAAWA,EAAOC,OAEhEhB,EAAWa,EAAkB,GAC5B,CAACjB,KAGFqB,EAAAA,EAAAA,MAACC,EAAAA,EAAS,CAAAC,SAAA,EACRC,EAAAA,EAAAA,KAAA,MAAAD,SACGpB,GACCA,EAAQK,KAAKW,IACXE,EAAAA,EAAAA,MAAA,MAAsBI,QAASA,KAAMC,EAAAA,EAAAA,UAAU,QAAOP,EAAOQ,QAAQJ,SAAA,EACnEC,EAAAA,EAAAA,KAAA,MAAAD,SAAKJ,EAAOS,SACZJ,EAAAA,EAAAA,KAAA,KAAAD,SAAIJ,EAAOU,gBAFJV,EAAOQ,UAMpBxB,GAA8B,IAAnBA,EAAQ2B,OAMjB,MALFT,EAAAA,EAAAA,MAACC,EAAAA,EAAU,CAAAC,SAAA,CAAC,oBAEVC,EAAAA,EAAAA,KAAA,SAAM,uBAIA,C","sources":["webpack://yellagoya-malog/./src/pages/search.jsx"],"sourcesContent":["import * as r from \"react\";\r\nimport * as s from \"style/templates/Search.js\";\r\nimport { graphql, navigate } from \"gatsby\";\r\nimport Fuse from \"fuse.js\";\r\n\r\nimport { SearchContext } from \"context/search.jsx\";\r\n\r\nconst SearchPage = ({ data }) => {\r\n  const { searchQuery } = r.useContext(SearchContext);\r\n  const [results, setResults] = r.useState(\"\");\r\n\r\n  const fuseIndexes = data.allMarkdownRemark.edges.map(({ node }) => JSON.parse(node.fields.index));\r\n  const fuseInstance = new Fuse(fuseIndexes, { keys: [\"title\", \"content\", \"categories\"] });\r\n\r\n  r.useEffect(() => {\r\n    const resultsRawData = fuseInstance.search(searchQuery);\r\n    const resultsParsedData = resultsRawData.map((result) => result.item);\r\n\r\n    setResults(resultsParsedData);\r\n  }, [searchQuery]);\r\n\r\n  return (\r\n    <s.Wrapper>\r\n      <ul>\r\n        {results &&\r\n          results.map((result) => (\r\n            <li key={result.slug} onClick={() => navigate(`/post${result.slug}`)}>\r\n              <h2>{result.title}</h2>\r\n              <p>{result.description}</p>\r\n            </li>\r\n          ))}\r\n      </ul>\r\n      {!results || results.length === 0 ? (\r\n        <s.Noresult>\r\n          검색 결과가 없습니다 ㅠㅜ..\r\n          <br />\r\n          다른 검색어를 입력해보세요.\r\n        </s.Noresult>\r\n      ) : null}\r\n    </s.Wrapper>\r\n  );\r\n};\r\n\r\nexport default SearchPage;\r\n\r\nexport const pageQuery = graphql`\r\n  {\r\n    allMarkdownRemark {\r\n      edges {\r\n        node {\r\n          frontmatter {\r\n            title\r\n          }\r\n          fields {\r\n            index\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":["SearchPage","data","searchQuery","r","SearchContext","results","setResults","fuseIndexes","allMarkdownRemark","edges","map","node","JSON","parse","fields","index","fuseInstance","Fuse","keys","resultsParsedData","search","result","item","_jsxs","s","children","_jsx","onClick","navigate","slug","title","description","length"],"sourceRoot":""}